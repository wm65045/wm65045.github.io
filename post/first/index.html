

<html>


<!DOCTYPE html>
<html
  class=""
  lang="zh-CN"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    
         
   


    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="description" content="test1" />

<meta name="keywords" content="读书笔记,
APUE,
">


<meta property="og:type" content="article" />
<meta property="og:description" content="test1" />
<meta property="og:title" content="First" />
<meta property="og:site_name" content="wm65045.com" />
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://wm65045.com/post/first/" />
<meta property="og:locale" content="zh-CN" />
<meta property="article:published_time" content="2020-08-29
" /> <meta property="article:modified_time" content="2020-08-29
" />


<meta property="article:tag" content="读书笔记" />
<meta property="article:tag" content="APUE" />



    <title>First</title>
    <link rel="canonical" href="https://wm65045.com/post/first/" />

    
<link rel="stylesheet" href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css"/>

<link rel="stylesheet" href="https://wm65045.comcss/style.css" />

<link href="https://cdn.bootcss.com/highlight.js/10.1.2/styles/monokai.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/highlight.js/10.1.2/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
 
  </head>


<body  
  lang="zh-CN"  class="sans-serif w-90 w-60-ns center center-ns mv2 mv5-ns"  itemscope  itemtype="http://schema.org/Article">
  
  
  <span class="b">/</span>
  <a href="/" class="b bb bw1 pb1 no-underline black">wm65045.com</a>
  <span class="b">&lt;</span>
  <a href="/tags" class="b bw1 bb pb1 no-underline black">tags</a>
  <span class="b">&nbsp</span>
  <a href="/post" class="b bw1 bb pb1 no-underline black">post</a>
  <span class="b">></span>

  <span class="b">first</span>

  <section id="main" class="mt5">
    <h1 itemprop="name" id="title">First</h1>
    <span class="f5 pink db dib-ns child">&nbspAugust 29 2020&nbsp&nbsp~300&nbsp字</span>
    <article itemprop="articleBody" id="content" class="w-90 lh-copy"><h1 id="c语言重点">C语言重点</h1>
<h2 id="零重点">零、重点</h2>
<ol>
<li>注意面试<code>时候</code> ，<code>做题</code>，<code>写明一下什</code> <code>wdgrte234</code> 么系统平台下的编译运行结果是多少，版本等等，有规范化的意识</li>
<li>C语言 printf(\n)中，\n换行和刷新缓冲区</li>
<li>main函数中写exit(0)</li>
<li>注意包含头函数</li>
<li>void *有一种特殊情况 和函数指针相关</li>
<li>inline函数 不是典型的函数 更像是 带参数宏定义</li>
<li>变量名 函数名 要有实际的意义，而不是abcd&hellip;</li>
</ol>
<h2 id="一前言">一、前言</h2>
<h3 id="c语言学习建议">C语言学习建议</h3>
<ol>
<li>概念的正确性</li>
<li>动手</li>
<li>阅读优秀的程序段</li>
<li>大量练习题目</li>
<li>面试题-看其中的知识点</li>
</ol>
<h3 id="c课程讲解思路">C课程讲解思路</h3>
<ol>
<li>基本数据类型</li>
<li>数据类型，运算符，表达式</li>
<li>输入输出</li>
<li>流程控制</li>
<li>数组</li>
<li>指针</li>
<li>函数</li>
<li>数组 函数 指针 三者组合的高阶内容</li>
<li>构造类型（实际生产环境中用得多）</li>
<li>动态内存管理</li>
<li>调试工具，调试技巧（gdb调试小段代码, make)</li>
<li>常用库函数</li>
<li>结束</li>
</ol>
<h3 id="平台介绍">平台介绍</h3>
<ol>
<li>linux，vim, gcc(make)</li>
<li>man手册</li>
</ol>
<h3 id="其他重点">其他重点</h3>
<ol>
<li>int main(int argc, char **argv) 接收命令行的传参</li>
<li>以main函数作为入口与出口，但是有例外的情况</li>
<li>C语言 多用空行 空格 锯齿状</li>
<li>在多个终端下面调试程序</li>
<li>gcc与make  防止因 gcc命令行操作时候Tab补齐，误补齐为源文件。
• 直接用make 目标文件名不带后缀。 之后编译器会自动寻找带后缀的文件
• makefile
• 预处理 编译 汇编 链接</li>
<li>宏定义 预处理</li>
<li>vim的配置使用</li>
</ol>
<ul>
<li>路径为/etc/vimrc 为全部用户的配置文件
<ul>
<li>cp /etc/vimrc ~/.vimrc拷贝到自己的家目录 更安全
<ul>
<li>按v进入可视化模式，选择区域，按等号=，代码自动格式化对齐</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>ctrl p组合键自动补齐变量名，函数名
<ul>
<li>shift k组合键 在man手册中查询该函数的说明
<ul>
<li>fdb</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<hr>
<h2 id="二编程需要注意的问题">二、编程需要注意的问题</h2>
<p>1.头文件包含的重要性</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">//#include &lt;stdlib.h&gt; malloc不添加stdlib.h这个库函数会报error
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>){
    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> NULL;
    
    p <span style="color:#f92672">=</span> malloc(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
    <span style="color:#66d9ef">if</span>(p <span style="color:#f92672">==</span> NULL)
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
    
    printf(<span style="color:#e6db74">&#34;123&#34;</span>);
    
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>上述程序出错的原因在于：</p>
<ol>
<li>经过查询man手册，如果malloc函数不包含stdlib.h头文件，则函数返回值为系统默认的int类型，如果包含头文件之后，malloc返回值应该为viod*类型。上述程序没有包含头文件，相当于将int型值赋给指针p了</li>
<li>但是在不包含stdlib.h的头文件下，只是 p = (int *)malloc(sizeof(int));  虽然有的编译器虽然不会报error，但仍然是错误的，这只是掩饰问题</li>
<li></li>
<li>使用 gcc 文件名带后缀 -Wall   编译后显示所有警告Warning，而 -w小写的，是关闭打印警告</li>
<li>gcc编译 应该调试到编译器gcc  xxx.c  -Wall没有警告为止，除非是自己知道也可以解释地清楚的警告</li>
<li>段错误</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;errno.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// #include &lt;string.h&gt;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>){FILE <span style="color:#f92672">*</span>p;fp <span style="color:#f92672">=</span> fopen(<span style="color:#e6db74">&#34;tmp&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);<span style="color:#75715e">//以制只读方式打开，要求文件必须存在if(fp == NULL)fprintf(stderr&#34;fopen():%s\n&#34;,strerror(errno));exit(0); }puts
</span><span style="color:#75715e"></span>(<span style="color:#e6db74">&#34;read done.&#34;</span>);exit(<span style="color:#ae81ff">0</span>);<span style="color:#960050;background-color:#1e0010">以函数模块为单位来编程，解决问题。提高代码的复用性以函数模块为单位来编程，解决问题。提高代码的复用性</span>
}
</code></pre></div><ol start="2">
<li></li>
<li>唯一main函数为 入口和出口</li>
<li>多线程并发中，main函数相当于一个正在运行的线程</li>
<li>系统内核对 进程和线程 没有区别，内核只有进程的概念。而系统内核认为的进程和人类认为的进程有区别</li>
<li>例如，加减乘除的一个大函数分割成四个小的独立函数模块</li>
<li>声明部分+实现部分</li>
<li>程序的声明部分： 头文件和函数实现中间</li>
<li>函数的声明部分：整个函数内，实现语句之前、</li>
<li>先定义，后使用</li>
<li>return 0;</li>
<li>return 0的作用是结束当前函数</li>
<li>exit(0) 结束当前进程</li>
<li>return 0和exit(0)放在main函数中以及单进程单线程没有区别</li>
<li>return 0中的返回值0，是反馈给其父进程看的</li>
<li>echo $? shell命令。打印上一条命令语句执行情况的返回值</li>
<li>题目：在最基本的helloworld.c文件中，如果在最后不写rerurn 0;语句，其返回结果是多少？
• 正确回答：13。因为 Hello world! 加上最后的 \n 一共13个字符（包括其中的空格符）。
• printf()函数也有返回值</li>
<li>多用空格 空行</li>
<li>添加注释</li>
<li>看linux内核其中的注释</li>
<li>用 #if 0  做条件注释</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#if 0</span>
代码段
<span style="color:#75715e">#endif</span>
</code></pre></div><ol start="7">
<li>算法</li>
<li>算法:解决问题的方法，</li>
<li>分步骤：流程图，NS图，有限状态机-FSM-finite state machine</li>
</ol>
</article>
  </section>

  <span class="f6 pink db dib-ns child"><em>最近修改&nbsp&nbspAugust 29 2020</em></span>

  
<style>
   
a:link { 
    color:#000000; 
    text-decoration:none; 
} 
a:visited { 
    color:#000000; 
    text-decoration:none; 
} 
a:hover { 
    color:#ffffff00; 
    text-decoration:none; 
} 
</style>
<footer>
    <div>
      <p style="text-align:center;margin-top:88px;font-size:14px;">
        <a href="/about/">
          庐山烟雨浙江潮
        </a>     
      </p>
    </div>
</footer>
  

<link rel="stylesheet" href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css"/>

<link rel="stylesheet" href="https://wm65045.comcss/style.css" />

<link href="https://cdn.bootcss.com/highlight.js/10.1.2/styles/monokai.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/highlight.js/10.1.2/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>
</html>